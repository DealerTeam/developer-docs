# 
version: 2.1
jobs:
  generate-docs-job:
    docker:
      - image: cimg/node:6.10
    steps:
      - checkout   # Required step.  Checks out the code from your repository.
      - run: node -v
      - run: pwd
      - run: ls -a
      - run:
          name: install Node package @cparra/apexdocs
          command: |
            sudo npm rebuild
            sudo npm update
            sudo npm cache clean --force
            sudo npm install -g @cparra/apexdocs --no-package-lock
            sudo npm rebuild @cparra/apexdocs
      - run:
          name: create destination docs-output directory
          command: |
            mkdir outputdocs
      - run:
          name: run apexdocs node package/command to generate docs
          command: |
            pwd
            mkdir classcopy
            cp classes/* classcopy
            ls -la
            cd ~
            pwd
            cd ~/project
            pwd
            ls -la
            sudo apexdocs-generate -s ~/project/classcopy -t outputdocs
  
workflows:
  version: 2
  build_and_test:
    jobs:
      - generate-docs-job:
          context: org-global        
#END-OF-CONFIG-FILE#
#DEALERTEAM.COM RELEASE ENGINEERING#
##